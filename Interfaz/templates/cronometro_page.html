{% extends "Base.html" %}
{% load static %}

{% block content %}
<div class="d-flex justify-content-center align-items-center min-vh-100 w-100">

    <div class="container p-4 rounded shadow-lg bg-white nudge-up" style="max-width: 800px;">
        
        <h1 class="text-center mb-4 text-dark-violet">
            <i class="bi bi-clock-fill me-2"></i> CronÃ³metro de estudio ðŸ“š
        </h1>
        
        <p class="text-center text-muted mb-4">
            <span class="badge bg-dark-violet me-2">Estudio: {{ page.tiempo_estudio }}</span>
            <span class="badge bg-green">Descanso: {{ page.tiempo_descanso }}</span>
        </p>

        <div class="row align-items-center mb-5">
            
            <div class="col-md-6 text-center mb-4 mb-md-0">
                <div class="cronometro-circular">
                    <h2 id="tiempo-visor" class="fw-semibold text-main-black">00:00:00</h2>
                    <p id="modo-actual" class="fs-5 fw-semibold">
                        Modo <span class="text-main-violet" id="modo">Estudio</span>
                    </p>
                </div>
            </div>
            
            <div class="col-md-6">
                
                <div class="p-3 border rounded">
                    <h4 class="mb-3 text-dark-violet">ConfiguraciÃ³n de Tiempos (minutos)</h4>
                    
                    <div class="mb-3">
                        <label for="input-estudio" class="form-label fw-semibold">Tiempo de estudio</label>
                        <input type="number" class="form-control" id="input-estudio" min="1" 
                               value="{{ page.tiempo_estudio.total_seconds|default:3000|floatformat:0 }}">
                    </div>

                    <div class="mb-3">
                        <label for="input-descanso" class="form-label fw-semibold">Tiempo de descanso</label>
                        <input type="number" class="form-control" id="input-descanso" min="1" 
                               value="{{ page.tiempo_descanso.total_seconds|default:600|floatformat:0 }}">
                    </div>
                    
                    <div class="d-grid">
                        <button id="btn-aceptar" class="btn btn-main-violet mt-2">
                            Aceptar nuevos tiempos
                        </button>
                    </div>
                </div>
            </div>
        </div>
        <div class="d-grid gap-2 d-md-flex justify-content-md-center">
            
            <button id="btn-iniciar" class="btn btn-lg btn-main-violet">
                <i class="bi bi-play-fill"></i> Iniciar
            </button>
            
            <button id="btn-pausar" class="btn btn-lg btn-warning text-dark" disabled> 
                <i class="bi bi-pause-fill"></i> Pausar
            </button>
            
            <button id="btn-reiniciar" class="btn btn-lg btn-outline-main-violet">
                <i class="bi bi-arrow-counterclockwise"></i> Reiniciar
            </button>
        </div>

        <script>
            const TIEMPO_ESTUDIO_BASE = {{ page.tiempo_estudio.total_seconds|default:3000|floatformat:0 }}; 
            const TIEMPO_DESCANSO_BASE = {{ page.tiempo_descanso.total_seconds|default:600|floatformat:0 }};
        </script>
        <link href="{% static 'cronometro.css' %}" rel="stylesheet">
    </div>
</div>
{% endblock %}